# 9.2. Vistas

## Vistas del MÃ³dulo de Reclutamiento
```sql
CREATE OR REPLACE VIEW vista_vacantes_disponibles AS
SELECT 
  v.idVacante,
  v.nombrepuesto,
  v.area,
  v.ubicacion,
  v.salario,
  v.fechainicio,
  v.fechacierre
FROM 
  Vacante v
WHERE 
  v.fechacierre >= CURRENT_DATE;

CREATE OR REPLACE VIEW vista_candidatos_postulaciones AS
SELECT 
  c.ID_candidato,
  c.nombre,
  c.apellido,
  c.email,
  c.telefono,
  c.niveleducativo,
  c.experiencia,
  p.ID_postulacion,
  p.idVacante,
  p.estado,
  p.fecha_postulacion
FROM 
  Candidato c
JOIN 
  Postulacion p ON c.ID_candidato = p.ID_candidato;

CREATE OR REPLACE VIEW vista_postulaciones_detalle AS
SELECT 
  p.ID_postulacion,
  p.fecha_postulacion,
  p.estado,
  v.idVacante,
  v.nombrepuesto,
  v.area,
  v.ubicacion,
  v.salario,
  c.ID_candidato,
  c.nombre AS nombre_candidato,
  c.apellido,
  c.email
FROM 
  Postulacion p
JOIN 
  Vacante v ON p.idVacante = v.idVacante
JOIN 
  Candidato c ON p.ID_candidato = c.ID_candidato;

CREATE OR REPLACE VIEW vista_resumen_reclutamiento AS
SELECT 
  (SELECT COUNT(*) FROM Vacante) AS total_vacantes,
  (SELECT COUNT(*) FROM Candidato) AS total_candidatos,
  (SELECT COUNT(*) FROM Postulacion) AS total_postulaciones,
  (SELECT COUNT(*) FROM Postulacion WHERE estado = 1) AS postulaciones_pendientes,
  (SELECT COUNT(*) FROM Postulacion WHERE estado = 2) AS postulaciones_aprobadas,
  (SELECT COUNT(*) FROM Postulacion WHERE estado = 3) AS postulaciones_rechazadas;

CREATE OR REPLACE VIEW vista_vacantes_candidatos_aprobados AS
SELECT 
  v.idVacante,
  v.nombrepuesto,
  c.ID_candidato,
  c.nombre,
  c.apellido,
  p.ID_postulacion,
  p.estado
FROM 
  Vacante v
JOIN 
  Postulacion p ON v.idVacante = p.idVacante
JOIN 
  Candidato c ON p.ID_candidato = c.ID_candidato
WHERE 
  p.estado = 2;
```
Sample content for section 9.2.
# 8.1. Sentencias SQL por módulo / prototipo

## 1. Sentencias SQL del módulo de

## 2. Sentencias SQL del módulo de

## 3. Sentencias SQL del módulo de CRM

**Caso 1**

|Codigo Requerimiento	|R301|
|---|---|
|Codigo Interfaz|	I301|
|Imagen Interfaz|	![image (14)](https://github.com/user-attachments/assets/6cc1cb9e-e081-460d-b8af-4b9be31dd6a2)|

Eventos:

1. Al cargar la pagina se dara una presentacion de bienvenida al cliente mostrando como identenficacion su nombre, luego al presionar solicitar permiso se cargara otra pagina.

``` sql

select cli.Nombre as Nombre_Cliente from Cliente cli where cli.estado_cliente = 'Activo' and cli.nombre = <1>;
```

**Caso 2**

|Codigo Requerimiento|	R301|
|---|---|
|Codigo Interfaz|	I302|
|Imagen Interfaz|![image (1)](https://github.com/user-attachments/assets/baab3e8f-b625-471e-97b1-da7446df441c) ![image (2)](https://github.com/user-attachments/assets/4551a392-279d-47ff-8c7b-522fb3627a4f)|

Eventos:

1. Al entrar a "registrar servicio" y llenar todo, al presionar el boton "enviar" se registrada una nueva invitacion.

``` sql

INSERT INTO Invitacion (ID_invitacion, Asunto_Invitacion, Requerimientos_Invitacion, Fecha_Envio, Tiempo_Maximo, Bases_Cotizacion, Direccion_Proyecto, Comentarios, Estado_Invitacion, ID_cliente) values 
(?,<1>,<2>,CURRENT_DATE,<3>,<4>,<5>,<6>,'No Revisado',?);
```

**Caso 3**

|Codigo Requerimiento	|R302|
|---|---|
|Codigo Interfaz|	I303|
|Imagen Interfaz|	![image (3)](https://github.com/user-attachments/assets/8bace767-fac5-4079-95ba-24938b431da0)|

Eventos:

1. Al inicializar la pagina se mostrara una lista de cliente.

``` sql

SELECT 
    cli.Nombre AS Nombre_Cliente
FROM 
    Cliente cli 
LEFT JOIN Adjudicacion adj ON cli.ID_cliente = adj.ID_cliente 
LEFT JOIN Invitacion inv ON cli.ID_cliente = inv.ID_cliente  
WHERE 
    adj.Estado_Adjudicacion IN ('Aceptado', 'No aceptado') 
    OR inv.Estado_Invitacion IN ('Revisado', 'No revisado');
```

**Caso 4**

|Codigo Requerimiento|	R302|
|---|---|
|Codigo Interfaz	|I304|
|Imagen Interfaz|![image (15)](https://github.com/user-attachments/assets/2771d31e-98c4-4c6c-8e0f-cd8bee7a2225) ![image (16)](https://github.com/user-attachments/assets/c3a5e4a0-2a29-4cf8-813b-89c860ff8ab5)|

Eventos:

1. Al inicializar la pagina se vera la invitacion del cliente.

``` sql
SELECT 
    cli.Nombre AS Nombre_Cliente,
    inv.Asunto_Invitacion,
    inv.Requerimientos_Invitacion,
    inv.Tiempo_Maximo,
    inv.Bases_Cotizacion,
    inv.Direccion_Proyecto,
    inv.Comentarios
FROM 
    Invitacion inv
LEFT JOIN 
    Cliente cli ON inv.ID_cliente = cli.ID_cliente WHERE inv.estado_invitacion = 'Revisado';

SELECT 
    inf.stock_real AS Stock_Disponible 
FROM 
    Informe_stock inf
WHERE 
    inf.Fecha_generacion = (
        SELECT MAX(Fecha_generacion) 
        FROM Informe_stock
    );
```

2. Al presionar el boton "Si se participara".

``` sql

INSERT INTO Revision_tecnica (
    ID_revision_tecnica, 
    Estado_Participacion, 
    ID_empleado, 
    ID_invitacion, 
    ID_informe_stock
) 
VALUES 
    (?, 'Aceptado', (SELECT e.ID_empleado FROM empleado e WHERE e.tipo_empleado = 'Administrador Comercial'), (SELECT cli.ID_cliente FROM cliente cli WHERE cli.nombre = <3>), ?);
```

3. Al presionar el boton "No se participara".

``` sql

INSERT INTO Revision_tecnica (
    ID_revision_tecnica, 
    Estado_Participacion, 
    ID_empleado, 
    ID_invitacion, 
    ID_informe_stock
) 
VALUES 
    (?, 'Rechazado', (SELECT e.ID_empleado FROM empleado e WHERE e.tipo_empleado = 'Administrador Comercial'), (SELECT cli.ID_cliente FROM cliente cli WHERE cli.nombre = <3>), ?);
```

**Caso 5**

|Codigo Requerimiento|	R303|
|---|---|
|Codigo Interfaz|	I305|
|Imagen Interfaz|![image (6)](https://github.com/user-attachments/assets/d0617db9-6d58-48d9-b2c9-a5aad30bd322) ![image (7)](https://github.com/user-attachments/assets/80e0806f-2832-4310-b7a6-d2f3afa525fb) ![image (8)](https://github.com/user-attachments/assets/fc82b917-8bb9-4aae-be81-fcbde742cbd2) ![image (9)](https://github.com/user-attachments/assets/85d70356-f240-4572-b03b-fbfc13d40152)|

**Caso 6**

|Codigo Requerimiento|	R304|
|---|---|
|Codigo Interfaz|	I306|
|Imagen Interfaz|![image (10)](https://github.com/user-attachments/assets/3806aacd-8d07-470c-a1df-a2b22f16dcf5) ![image (11)](https://github.com/user-attachments/assets/7c53f56f-4a4f-4d26-aa4b-9ae30fdbbb9c) ![image (12)](https://github.com/user-attachments/assets/2a3de869-9bc2-48ff-b9a9-1b285ec7e543) ![image (13)](https://github.com/user-attachments/assets/77ecfd53-dc79-431d-9d19-69947b04b826)|

## 4. Sentencias SQL del módulo de

## 5. Sentencias SQL del módulo de

## 6. Sentencias SQL del módulo de
